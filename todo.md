# Reflecta — Project Backlog

Этот файл содержит список эпиков, юзерстори и задач для проекта **Reflecta** (дневник эмоций + трекер привычек).  
Формат: markdown-чеклисты. Используй галочки для отслеживания прогресса.

---

## Epic 1. Инфраструктура проекта
**User Story:** Как разработчик, я хочу иметь монорепу с backend и iOS, чтобы развивать обе части параллельно.

- [х] Создать монорепу `reflecta` с папками `/backend` и `/ios`
- [х] Настроить git, .gitignore, README
- [х] Создать базовый FastAPI сервер (`/health`)
- [х] Поднять локально (`uvicorn`)
- [ ] Создать пустой iOS проект (`ReflectaApp`) в Xcode

--

## Epic 2. Backend MVP
**User Story:** Как пользователь, я хочу хранить эмоции и привычки на сервере.

- [ ] Настроить SQLAlchemy и базу (SQLite → Postgres)
- [ ] Сделать модели: `JournalEntry`, `Habit`, `HabitLog`
- [ ] CRUD для Journal: POST / GET / PUT / DELETE
- [ ] CRUD для Habits: POST / GET / PUT / DELETE
- [ ] CRUD для HabitLogs: POST / GET / DELETE
- [ ] Endpoint `/stats` (среднее настроение, % выполнения)
- [ ] Endpoint `/export` (JSON)

---

## Epic 3. Деплой backend-а
**User Story:** Как пользователь, я хочу иметь сервер в интернете.

- [ ] Создать репозиторий на GitHub
- [ ] Настроить Render Web Service (Root = `/backend`)
- [ ] Подключить бесплатный Postgres на Render
- [ ] Проверить публичный URL API

---

## Epic 4. iOS Клиент — базовые экраны
**User Story:** Как пользователь, я хочу добавлять эмоции и привычки через приложение.

- [ ] Настроить APIClient (URLSession + async/await)
- [ ] Экран «Сегодня» (GET /habits + GET /journal)
- [ ] Экран «Новая эмоция» (POST /journal)
- [ ] Экран «Дневник» (GET /journal)
- [ ] Экран «Привычки» (CRUD через API)
- [ ] Экран «Инсайты» (GET /stats)

---

## Epic 5. Удобство и безопасность
**User Story:** Как пользователь, я хочу защиту и напоминания.

- [ ] JWT авторизация (`/auth/register`, `/auth/login`)
- [ ] Привязка записей к userId
- [ ] На iOS: хранить токен в Keychain
- [ ] Экран логина/регистрации
- [ ] Локальные уведомления (привычки/эмоции)
- [ ] PIN/FaceID

---

## Epic 6. macOS порт
**User Story:** Как пользователь Mac, я хочу работать с приложением на компьютере.

- [ ] Запустить iOS проект как универсальный (iOS+macOS)
- [ ] Добавить сайдбар-навигацию
- [ ] Горячие клавиши (⌘N — новая эмоция, ⌘H — привычка)
- [ ] Тест синхронизации с backend-ом

---

## Epic 7. Расширенные фичи (V2)
**User Story:** Как пользователь, я хочу видеть больше аналитики и интеграций.

- [ ] Корреляции «привычки ↔ настроение»
- [ ] Тепловые карты (по дням недели)
- [ ] Экспорт/импорт CSV
- [ ] Интеграция с HealthKit
- [ ] Apple Watch: быстрый лог эмоций, чек-ины
